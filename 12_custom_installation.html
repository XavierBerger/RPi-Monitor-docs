

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Custom installation &mdash; RPi-Monitor v2.13-r0</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="next" title="Understanding program execution" href="13_execution.html" />
    <link rel="prev" title="Installation and upgrade" href="11_installation.html" />


<script src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6853682829194266",
    enable_page_level_ads: true
  });
</script>



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-114314379-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-18642541-8');
</script>



  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

  


  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> RPi-Monitor
          

          
          </a>

          
            
            
              <div class="version">
                2.13
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          

            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="01_features.html">Keys features of RPi-Monitor</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="10_index.html">Getting started</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="11_installation.html">Installation and upgrade</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Custom installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="13_execution.html">Understanding program execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="14_faq.html">Frequently Asked Questions</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="20_index.html">Configuration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="30_index.html">Usages</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="40_index.html">To go further</a></li>
</ul>

            
          

<hr />
<div style="padding: 0;">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:inline-block;width:300px;height:250px"
         data-ad-client="ca-pub-6853682829194266"
         data-ad-slot="2876944524"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>


        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">RPi-Monitor</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="10_index.html">Getting started</a> &raquo;</li>
        
      <li>Custom installation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <!-- User defined GitHub URL -->
              <a href="https://github.com/XavierBerger/RPi-Monitor/blob/develop/docs/source/12_custom_installation.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="custom-installation">
<h1>Custom installation<a class="headerlink" href="#custom-installation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installation-from-debian-package">
<h2>Installation from Debian package<a class="headerlink" href="#installation-from-debian-package" title="Permalink to this headline">¶</a></h2>
<p>Download the latest package from the official repository in <a class="reference external" href="https://github.com/XavierBerger/RPi-Monitor-deb/tree/master/packages">Github</a>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">wget</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">goo</span><span class="o">.</span><span class="n">gl</span><span class="o">/</span><span class="n">yDYFhy</span> <span class="o">-</span><span class="n">O</span> <span class="n">rpimonitor_latest</span><span class="o">.</span><span class="n">deb</span>
</pre></div>
</div>
<p>If you have issue with GnuTLS: A TLS warning alert coming from Github you can download it with the following command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">L</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">goo</span><span class="o">.</span><span class="n">gl</span><span class="o">/</span><span class="n">yDYFhy</span> <span class="o">-</span><span class="n">o</span> <span class="n">rpimonitor_latest</span><span class="o">.</span><span class="n">deb</span>
</pre></div>
</div>
<p>Install the dependencies by executing the following command (use command
<code class="docutils literal"><span class="pre">apt-get</span></code> or <code class="docutils literal"><span class="pre">apt</span></code> if <code class="docutils literal"><span class="pre">aptitude</span></code> is not available on your target system):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">aptitude</span> <span class="n">install</span> <span class="n">librrds</span><span class="o">-</span><span class="n">perl</span> <span class="n">libhttp</span><span class="o">-</span><span class="n">daemon</span><span class="o">-</span><span class="n">perl</span> <span class="n">libjson</span><span class="o">-</span><span class="n">perl</span> \
<span class="n">libipc</span><span class="o">-</span><span class="n">sharelite</span><span class="o">-</span><span class="n">perl</span> <span class="n">libfile</span><span class="o">-</span><span class="n">which</span><span class="o">-</span><span class="n">perl</span> <span class="n">libsnmp</span><span class="o">-</span><span class="n">extension</span><span class="o">-</span><span class="n">passpersist</span><span class="o">-</span><span class="n">perl</span>
</pre></div>
</div>
<p>Installation or upgrade can be done with the command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">dpkg</span> <span class="o">-</span><span class="n">i</span> <span class="n">rpimonitor_latest</span><span class="o">.</span><span class="n">deb</span>
</pre></div>
</div>
<p>Complete the installation with the command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">rpimonitor</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">updatePackagesStatus</span><span class="o">.</span><span class="n">pl</span>
</pre></div>
</div>
</div>
<div class="section" id="installing-on-gentoo">
<h2>Installing on Gentoo<a class="headerlink" href="#installing-on-gentoo" title="Permalink to this headline">¶</a></h2>
<p><strong>Gentoo</strong> users can find the <a class="reference external" href="https://github.com/srcshelton/gentoo-ebuilds/tree/master/www-apps/rpi-monitor">ebuild</a> created by Stuart Shelton.</p>
</div>
<div class="section" id="installing-on-arch-linux">
<h2>Installing on Arch Linux<a class="headerlink" href="#installing-on-arch-linux" title="Permalink to this headline">¶</a></h2>
<p><strong>Arch Linux</strong> users can find the <a class="reference external" href="https://aur.archlinux.org/packages/rpimonitor/">aur package</a> created by ajs124.</p>
<p>Development branch package is located <a class="reference external" href="https://aur.archlinux.org/packages/rpimonitor-dev-git/">here</a></p>
</div>
<div class="section" id="installation-from-sources">
<h2>Installation from sources<a class="headerlink" href="#installation-from-sources" title="Permalink to this headline">¶</a></h2>
<p>For manual installation, refer to <a class="reference external" href="32_contributing.html#packaging">Packaging</a>
instruction which describes how and where install files.</p>
</div>
<div class="section" id="docker">
<h2>Docker<a class="headerlink" href="#docker" title="Permalink to this headline">¶</a></h2>
<div class="section" id="docker-in-few-words">
<h3>Docker in few words<a class="headerlink" href="#docker-in-few-words" title="Permalink to this headline">¶</a></h3>
<p>Source: <a class="reference external" href="https://en.wikipedia.org/wiki/Docker_(software)">Wikipedia</a></p>
<p>Docker is a tool that can package an application and its dependencies in a virtual
container that can run on any Linux server. This helps enable flexibility and
portability on where the application can run, whether on premises,
public cloud, private cloud, bare metal, etc.</p>
<p>Docker technology is providing operating-system-level virtualization also
known as containers. [...] Docker uses the resource isolation features of the
Linux kernel [...] to allow independent &#8220;containers&#8221; to run within a
single Linux instance, avoiding the overhead of starting and maintaining virtual machines (VMs).</p>
</div>
<div class="section" id="rpi-monitor-running-in-docker-container">
<h3>RPi-Monitor running in Docker container<a class="headerlink" href="#rpi-monitor-running-in-docker-container" title="Permalink to this headline">¶</a></h3>
<p>As specified in Wikipedia&#8217;s description, the goal of Docker is to isolate
programs in containers. It has the advantage to keep the host system clean
since programs and dependencies are installed inside a container but this advantage
could become a problem if your goal is to perform monitoring of host.</p>
<p>The solution provided by Michael is to share the part of host system with
<strong>RPi-Monitor</strong>&#8216;s container to allow access to KPI.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">vc</span>
<span class="o">/</span><span class="n">boot</span>
<span class="o">/</span><span class="n">sys</span>
<span class="o">/</span><span class="n">etc</span>
<span class="o">/</span><span class="n">proc</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span>
</pre></div>
</div>
<p>All volumes are mapped as read-only to ensure the container can&#8217;t modify the
data on the docker host. Additionally access to the Raspberry Pi&#8217;s <code class="docutils literal"><span class="pre">vchiq</span></code> and <code class="docutils literal"><span class="pre">vcsm</span></code>
device needs to be mapped to the container to access hardware sensors, like CPU Temperature, e.g.</p>
<p>The following command does the job:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">run</span> <span class="o">--</span><span class="n">device</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">vchiq</span> \
<span class="o">--</span><span class="n">device</span><span class="o">=/</span><span class="n">dev</span><span class="o">/</span><span class="n">vcsm</span> \
<span class="o">--</span><span class="n">volume</span><span class="o">=/</span><span class="n">opt</span><span class="o">/</span><span class="n">vc</span><span class="p">:</span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">vc</span> \
<span class="o">--</span><span class="n">volume</span><span class="o">=/</span><span class="n">boot</span><span class="p">:</span><span class="o">/</span><span class="n">boot</span> \
<span class="o">--</span><span class="n">volume</span><span class="o">=/</span><span class="n">sys</span><span class="p">:</span><span class="o">/</span><span class="n">dockerhost</span><span class="o">/</span><span class="n">sys</span><span class="p">:</span><span class="n">ro</span> \
<span class="o">--</span><span class="n">volume</span><span class="o">=/</span><span class="n">etc</span><span class="p">:</span><span class="o">/</span><span class="n">dockerhost</span><span class="o">/</span><span class="n">etc</span><span class="p">:</span><span class="n">ro</span> \
<span class="o">--</span><span class="n">volume</span><span class="o">=/</span><span class="n">proc</span><span class="p">:</span><span class="o">/</span><span class="n">dockerhost</span><span class="o">/</span><span class="n">proc</span><span class="p">:</span><span class="n">ro</span> \
<span class="o">--</span><span class="n">volume</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="p">:</span><span class="o">/</span><span class="n">dockerhost</span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="p">:</span><span class="n">ro</span> \
<span class="o">-</span><span class="n">p</span><span class="o">=</span><span class="mi">8888</span><span class="p">:</span><span class="mi">8888</span> \
<span class="o">--</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;rpi-monitor&quot;</span> \
<span class="o">-</span><span class="n">d</span> \
<span class="n">michaelmiklis</span><span class="o">/</span><span class="n">rpi</span><span class="o">-</span><span class="n">monitor</span><span class="p">:</span><span class="n">latest</span>
</pre></div>
</div>
<p>All the detail are gathered in <a class="reference external" href="https://hub.docker.com/r/michaelmiklis/rpi-monitor/">DockerHub</a> pages of the
<a class="reference external" href="https://github.com/XavierBerger/Docker-RPi-Monitor">Docker-RPi-Monitor</a> project.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This docker image is based on <a class="reference external" href="https://hub.docker.com/r/resin/rpi-raspbian/">resin/rpi-raspbian:latest</a> image and is
then designed to run on ARM based architecture such as Raspberry Pi.</p>
</div>
</div>
</div>
<div class="section" id="yocto">
<h2>Yocto<a class="headerlink" href="#yocto" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">meta-rpiexperiences</span></code> is availabale on <a class="reference external" href="https://github.com/XavierBerger/meta-rpiexperiences">github</a>
gathering the recipes to add <strong>RPi-Monitor</strong> and all its dependencies to your project.
<a class="reference external" href="http://layers.openembedded.org/layerindex/branch/master/layer/meta-rpiexperiences/">meta-rpiexperiences</a>
and <a class="reference external" href="http://layers.openembedded.org/layerindex/recipe/52439/">rpimonitor</a> are referenced on
<a class="reference external" href="http://layers.openembedded.org/layerindex/branch/master/layers/">layers.openembedded.org</a></p>
<div class="section" id="yocto-in-few-words">
<h3>Yocto in few words<a class="headerlink" href="#yocto-in-few-words" title="Permalink to this headline">¶</a></h3>
<p>Source: <a class="reference external" href="http://YoctoProject.org">YoctoProject.org</a></p>
<p>The Yocto Project is an open source collaboration project that provides templates,
tools and methods to help you create custom Linux-based systems for embedded products
regardless of the hardware architecture.</p>
</div>
<div class="section" id="id2">
<h3>meta-rpiexperiences<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>This layer provides <strong>RPi-Monitor</strong> moniritoring tools and its dependencies for Yocto.</p>
<p><strong>Dependencies</strong></p>
<p>This layer depends on:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">URI</span><span class="p">:</span> <span class="n">git</span><span class="p">:</span><span class="o">//</span><span class="n">git</span><span class="o">.</span><span class="n">openembedded</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">openembedded</span><span class="o">-</span><span class="n">core</span>
<span class="n">branch</span><span class="p">:</span> <span class="n">master</span>
<span class="n">revision</span><span class="p">:</span> <span class="n">HEAD</span>
<span class="n">prio</span><span class="p">:</span> <span class="n">default</span>

<span class="n">URI</span><span class="p">:</span> <span class="n">git</span><span class="p">:</span><span class="o">//</span><span class="n">git</span><span class="o">.</span><span class="n">openembedded</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">meta</span><span class="o">-</span><span class="n">openembedded</span><span class="o">/</span><span class="n">meta</span><span class="o">-</span><span class="n">oe</span>
<span class="n">branch</span><span class="p">:</span> <span class="n">master</span>
<span class="n">revision</span><span class="p">:</span> <span class="n">HEAD</span>
<span class="n">prio</span><span class="p">:</span> <span class="n">default</span>

<span class="n">URI</span><span class="p">:</span> <span class="n">git</span><span class="p">:</span><span class="o">//</span><span class="n">git</span><span class="o">.</span><span class="n">openembedded</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">meta</span><span class="o">-</span><span class="n">openembedded</span><span class="o">/</span><span class="n">meta</span><span class="o">-</span><span class="n">perl</span>
<span class="n">branch</span><span class="p">:</span> <span class="n">master</span>
<span class="n">revision</span><span class="p">:</span> <span class="n">HEAD</span>
<span class="n">prio</span><span class="p">:</span> <span class="n">default</span>
</pre></div>
</div>
<p><strong>Adding RPi-Experiences layer to your build</strong></p>
<p>In order to use this layer, you need to make the build system aware of it.</p>
<p>Assuming the rpi-experiences layer exists at the top-level of your yocto build tree, you can add it to the build system by adding the location of the security layer to bblayers.conf, along with any other layers needed. e.g.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>BBLAYERS ?= &quot; \
  /path/to/meta-openembedded/meta-oe \
  /path/to/meta-openembedded/meta-perl \
  /path/to/layer/meta-rpiexperiences \
  ...
  &quot;
</pre></div>
</div>
<p><strong>Contents and Help</strong></p>
<p>In this section the contents of the layer is listed, along with a short help for each package.</p>
<ul class="simple">
<li><strong>recipes-perl</strong>: This directory contains all the perl recipes needed for <strong>RPi-Monitor</strong>.</li>
<li><strong>recipes-rpimonitor</strong>: This directory contains <strong>RPi-Monitor</strong> recipe.</li>
</ul>
<p><strong>Maintenance</strong></p>
<p>Send pull requests, patches, comments or questions to <a class="reference external" href="https://github.com/XavierBerger/meta-rpiexperiences/issues">https://github.com/XavierBerger/meta-rpiexperiences/issues</a></p>
<ul class="simple">
<li><strong>Maintainer</strong>: Xavier Berger</li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="13_execution.html" class="btn btn-neutral float-right" title="Understanding program execution" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="11_installation.html" class="btn btn-neutral" title="Installation and upgrade" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Xavier Berger.
      Last updated on Mar 18, 2018.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-6853682829194266"
     data-ad-slot="2876944524"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>



</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: ''
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          
          SphinxRtdTheme.Navigation.enableSticky();
          
      });
  </script> 

</body>
</html>