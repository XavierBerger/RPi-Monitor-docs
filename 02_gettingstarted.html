

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Getting started &mdash; RPi-Monitor v2.13-r0</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="RPi-Monitor v2.13-r0" href="index.html"/>
        <link rel="up" title="Overview" href="00_index.html"/>
        <link rel="next" title="Configuration" href="10_index.html"/>
        <link rel="prev" title="Keys features of RPi-Monitor" href="01_features.html"/>


<script src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6853682829194266",
    enable_page_level_ads: true
  });
</script>



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-114314379-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-114314379-1');
</script>



  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> RPi-Monitor
          

          
          </a>

          
            
            
              <div class="version">
                2.13
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          

            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="00_index.html">Overview</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="01_features.html">Keys features of RPi-Monitor</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Getting started</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="10_index.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="20_index.html">Integration examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="30_index.html">To go further</a></li>
</ul>

            
          

<hr />
<div style="padding: 0;">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:inline-block;width:300px;height:250px"
         data-ad-client="ca-pub-6853682829194266"
         data-ad-slot="2876944524"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>


        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">RPi-Monitor</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="00_index.html">Overview</a> &raquo;</li>
        
      <li>Getting started</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <!-- User defined GitHub URL -->
              <a href="https://github.com/XavierBerger/RPi-Monitor/blob/feature/docs/docs/source/02_gettingstarted.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="getting-started">
<h1>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="installation-and-upgrade-from-repository">
<h3>Installation and upgrade from repository<a class="headerlink" href="#installation-and-upgrade-from-repository" title="Permalink to this headline">¶</a></h3>
<div class="section" id="install-from-repository">
<h4>Install from repository<a class="headerlink" href="#install-from-repository" title="Permalink to this headline">¶</a></h4>
<p><strong>RPi-Monitor</strong> is providing a debian repository. This repository makes
installation and update accessible with the command <code class="docutils literal"><span class="pre">apt-get</span></code> or <code class="docutils literal"><span class="pre">aptitude</span></code>.</p>
<p>To use this repository follow the instruction bellow:</p>
<p>Execute the following command to add <strong>RPi-Monitor</strong> into your list of repository:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">wget</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">goo</span><span class="o">.</span><span class="n">gl</span><span class="o">/</span><span class="n">vewCLL</span> <span class="o">-</span><span class="n">O</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">apt</span><span class="o">/</span><span class="n">sources</span><span class="o">.</span><span class="n">list</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">rpimonitor</span><span class="o">.</span><span class="n">list</span>
</pre></div>
</div>
<p>Install <strong>RPi-Monitor</strong>&#8216;s public key to trust <strong>RPi-Monitor</strong> repository:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">key</span> <span class="n">adv</span> <span class="o">--</span><span class="n">recv</span><span class="o">-</span><span class="n">keys</span> <span class="o">--</span><span class="n">keyserver</span> <span class="n">keyserver</span><span class="o">.</span><span class="n">ubuntu</span><span class="o">.</span><span class="n">com</span> <span class="mi">2</span><span class="n">C0D3C0F</span>
</pre></div>
</div>
<p>To install <strong>RPi-Monitor</strong>, execute the following command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">rpimonitor</span>
</pre></div>
</div>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last"><strong>RPi-Monitor</strong> is designed to start automatically and collect metrics.
The web interface is available on address <a class="reference external" href="http://IPaddress:8888">http://IPaddress:8888</a>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You may notice that <strong>RPiMonitor</strong> repository is hosted on
<a class="reference external" href="http://giteduberger.fr/en">http://giteduberger.fr/</a></p>
</div>
</div>
<div class="section" id="upgrade-from-the-repository">
<h4>Upgrade from the repository<a class="headerlink" href="#upgrade-from-the-repository" title="Permalink to this headline">¶</a></h4>
<p>To upgrade <strong>RPi-Monitor</strong>, execute the following command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">upgrade</span>
</pre></div>
</div>
<p>After installation you should excute the following command to update information
about upgradable packages:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">init</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">rpimonitor</span> <span class="n">update</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="manual-installation-from-debian-package">
<h3>Manual installation from Debian package<a class="headerlink" href="#manual-installation-from-debian-package" title="Permalink to this headline">¶</a></h3>
<p>Download the latest package from the official repository in <a class="reference external" href="https://github.com/XavierBerger/RPi-Monitor-deb/tree/master/packages">Github</a>
with the following command (replace <code class="docutils literal"><span class="pre">latest_package_url</span></code> by the real url found on github):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">wget</span> <span class="n">latest_package_url</span> <span class="o">-</span><span class="n">O</span> <span class="n">rpimonitor_latest_all</span><span class="o">.</span><span class="n">deb</span>
</pre></div>
</div>
<p>If you have issue with GnuTLS: A TLS warning alert coming from Github you
can download it with the following command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">L</span> <span class="n">latest_package_url</span> <span class="o">-</span><span class="n">o</span> <span class="n">rpimonitor_latest_all</span><span class="o">.</span><span class="n">deb</span>
</pre></div>
</div>
<p>Install the dependencies by executing the following command (use command
<code class="docutils literal"><span class="pre">apt-get</span></code> if <code class="docutils literal"><span class="pre">aptitude</span></code> is not available on your target system):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">aptitude</span> <span class="n">install</span> <span class="n">librrds</span><span class="o">-</span><span class="n">perl</span> <span class="n">libhttp</span><span class="o">-</span><span class="n">daemon</span><span class="o">-</span><span class="n">perl</span> <span class="n">libjson</span><span class="o">-</span><span class="n">perl</span> \
<span class="n">libipc</span><span class="o">-</span><span class="n">sharelite</span><span class="o">-</span><span class="n">perl</span> <span class="n">libfile</span><span class="o">-</span><span class="n">which</span><span class="o">-</span><span class="n">perl</span> <span class="n">libsnmp</span><span class="o">-</span><span class="n">extension</span><span class="o">-</span><span class="n">passpersist</span><span class="o">-</span><span class="n">perl</span>
</pre></div>
</div>
<p>Installation or upgrade can be done with the command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">dpkg</span> <span class="o">-</span><span class="n">i</span> <span class="n">rpimonitor_latest_all</span><span class="o">.</span><span class="n">deb</span>
</pre></div>
</div>
<p>Complete the installation with the command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">rpimonitor</span><span class="o">/</span><span class="n">scripts</span><span class="o">/</span><span class="n">updatePackagesStatus</span><span class="o">.</span><span class="n">pl</span>
</pre></div>
</div>
</div>
<div class="section" id="manual-installation-from-sources">
<h3>Manual installation from sources<a class="headerlink" href="#manual-installation-from-sources" title="Permalink to this headline">¶</a></h3>
<p>For manual installation, refer to <a class="reference external" href="32_contributing.html#packaging">Packaging</a>
instruction which describes how and where install files.</p>
</div>
</div>
<hr class="docutils" />
<div class="section" id="execution">
<h2>Execution<a class="headerlink" href="#execution" title="Permalink to this headline">¶</a></h2>
<div class="section" id="startup-script">
<h3>Startup script<a class="headerlink" href="#startup-script" title="Permalink to this headline">¶</a></h3>
<p><strong>RPi-Monitor</strong> is configured to start automatically. <code class="docutils literal"><span class="pre">/etc/init.d/rpimonitor</span></code>
and link in runlevel startup directory do the job. This script can be executed
with the following parameters:</p>
<dl class="docutils">
<dt>start</dt>
<dd>Start <code class="docutils literal"><span class="pre">rpimonitord</span></code> daemon</dd>
<dt>stop</dt>
<dd>Stop <code class="docutils literal"><span class="pre">rpimonitord</span></code> daemon</dd>
<dt>restart</dt>
<dd>Stop and start <code class="docutils literal"><span class="pre">rpimonitord</span></code> daemon</dd>
<dt>status</dt>
<dd>Show <code class="docutils literal"><span class="pre">rpimonitord</span></code> status</dd>
<dt>update</dt>
<dd>Update packages to be installed list. This information is displayed in default
configuration of Web interface</dd>
<dt>install_auto_package_status_update</dt>
<dd>Add a script to automatically call package update script when <code class="docutils literal"><span class="pre">apt</span></code> commands are executes</dd>
<dt>remove_auto_package_status_update</dt>
<dd>Remove script automatically call for package update</dd>
</dl>
</div>
<div class="section" id="command-line">
<h3>Command line<a class="headerlink" href="#command-line" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">rpimonitord</span></code> can be directly executed with the following parameters:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">rpimonitord</span> <span class="p">[</span><span class="o">-</span><span class="n">a</span> <span class="n">address</span><span class="p">][</span> <span class="o">-</span><span class="n">b</span> <span class="n">pidfile</span><span class="p">][[</span><span class="o">-</span><span class="n">c</span> <span class="n">configuration_file</span><span class="p">]</span><span class="o">...</span><span class="p">][</span><span class="o">-</span><span class="n">d</span> <span class="n">delay</span><span class="p">][</span><span class="o">-</span><span class="n">h</span><span class="p">][</span><span class="o">-</span><span class="n">k</span><span class="p">][</span><span class="o">-</span><span class="n">l</span> <span class="n">logfile</span><span class="p">]</span>
<span class="p">[</span><span class="o">-</span><span class="n">m</span><span class="p">][</span><span class="o">-</span><span class="n">n</span><span class="p">][</span><span class="o">-</span><span class="n">p</span> <span class="n">port</span><span class="p">][</span><span class="o">-</span><span class="n">s</span><span class="p">][</span><span class="o">-</span><span class="n">t</span> <span class="n">timeout</span><span class="p">][</span><span class="o">-</span><span class="n">v</span><span class="p">[</span><span class="n">v</span><span class="p">[</span><span class="o">...</span><span class="p">]]][</span><span class="o">-</span><span class="n">V</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="options">
<h3>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="14%" />
<col width="70%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td rowspan="2">-a, &#8211;addr</td>
<td rowspan="2">address</td>
<td>Web server bind address</td>
</tr>
<tr class="row-even"><td>Default: 0.0.0.0</td>
</tr>
<tr class="row-odd"><td rowspan="2">-b, &#8211;background</td>
<td rowspan="2">pid file</td>
<td>Define the pid file when run in background</td>
</tr>
<tr class="row-even"><td>Default: not set</td>
</tr>
<tr class="row-odd"><td rowspan="2">-c, &#8211;conf</td>
<td rowspan="2">conf file</td>
<td>Define the configuration file</td>
</tr>
<tr class="row-even"><td>Default: <code class="docutils literal"><span class="pre">/etc/rpimonitor/data.conf</span></code> <code class="docutils literal"><span class="pre">/etc/rpimonitor/daemon.conf</span></code></td>
</tr>
<tr class="row-odd"><td rowspan="2">-d, &#8211;delay</td>
<td rowspan="2">delay</td>
<td>Delay between check ins seconds</td>
</tr>
<tr class="row-even"><td>Default : 10</td>
</tr>
<tr class="row-odd"><td rowspan="2">-l, &#8211;logfile</td>
<td rowspan="2">log file</td>
<td>Logfile directory and prefix (ex: <code class="docutils literal"><span class="pre">/var/log/rpimonitor</span></code>)</td>
</tr>
<tr class="row-even"><td>Default:</td>
</tr>
<tr class="row-odd"><td rowspan="2">-p, &#8211;port</td>
<td rowspan="2">port</td>
<td>Web server port</td>
</tr>
<tr class="row-even"><td>Default: 8888</td>
</tr>
<tr class="row-odd"><td rowspan="2">-t, &#8211;timeout</td>
<td rowspan="2">timeout</td>
<td>KPI read timeout in seconds</td>
</tr>
<tr class="row-even"><td>Default: 5</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you want to change the default <code class="docutils literal"><span class="pre">delay</span></code>, the rrd file will have to be deleted.
<code class="docutils literal"><span class="pre">rpimonitord</span></code> will recreate database at next startup with the new time slice.</p>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="76%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>-h, &#8211;help</td>
<td>Shows this help and exit</td>
</tr>
<tr class="row-even"><td>-i, &#8211;interactive</td>
<td>Interactive configuration helper</td>
</tr>
<tr class="row-odd"><td>-k, &#8211;keep</td>
<td>Keep log file (Default: logfile is delete at each start)</td>
</tr>
<tr class="row-even"><td>-m, &#8211;mib</td>
<td>Get MIB for current configuration</td>
</tr>
<tr class="row-odd"><td>-n, &#8211;noserver</td>
<td>Don&#8217;t start embeded web server</td>
</tr>
<tr class="row-even"><td>-r, &#8211;readonly</td>
<td>Read only mode.</td>
</tr>
<tr class="row-odd"><td>-s, &#8211;show</td>
<td>Show configuration as loaded and exit</td>
</tr>
<tr class="row-even"><td>-v, &#8211;verbose</td>
<td>Write debug info on screen</td>
</tr>
<tr class="row-odd"><td>-V, &#8211;Version</td>
<td>Show version and exit</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="configuration">
<h3>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h3>
<p>Configuration can be defined into <code class="docutils literal"><span class="pre">/etc/rpimonitor/daemon.conf</span></code> and
<code class="docutils literal"><span class="pre">/etc/rpimonitor/data.conf</span></code> or in a list of files specified by <code class="docutils literal"><span class="pre">-c</span></code> parameter.
In <code class="docutils literal"><span class="pre">/etc/rpimonitor/template/*.conf</span></code>, provided at installation, you can see
how to customize <code class="docutils literal"><span class="pre">rpimonitord</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Configuration defined inside a configuration file always overwrite default values.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Configuration given as option of the command line always overwrite the one defined into a file.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be sure to use Linux filefeed format with line ending with LF (and not CR/LF like in Windows)</p>
</div>
<p>See <a class="reference external" href="10_index.html">configuration</a> chapter for details and examples.</p>
</div>
<div class="section" id="snmp-agent">
<h3>snmp-agent<a class="headerlink" href="#snmp-agent" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">rpimonotord-snmp</span></code> is the snmp agent provided by <strong>RPi-Monitor</strong>. This agent
allow <code class="docutils literal"><span class="pre">snmpd</span></code> to access to data exctracted by <code class="docutils literal"><span class="pre">rpimonitord</span></code>.</p>
</div>
<div class="section" id="raw-data-access">
<h3>Raw data access<a class="headerlink" href="#raw-data-access" title="Permalink to this headline">¶</a></h3>
<p>Once <code class="docutils literal"><span class="pre">rpimonitord</span></code> is started the data representing the current status are
available in json format and can be downloaded from the root of the web interface
(ex: <a class="reference external" href="http://IPaddress:8888/static.json">http://IPaddress:8888/static.json</a>)</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">static.json</span></code> : Static information extracted at startup</li>
<li><code class="docutils literal"><span class="pre">dynamic.json</span></code> : Current values of dynamic information extracted periodically</li>
<li><code class="docutils literal"><span class="pre">menu.json</span></code> : Description of menus when multiple pages are configured</li>
</ul>
<p>The web interface configuration can also be downloaded in json format:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">statistics.json</span></code> : Description of statistics page</li>
<li><code class="docutils literal"><span class="pre">status.json</span></code> : Description of status page</li>
<li><code class="docutils literal"><span class="pre">friends.json</span></code> : List of friends</li>
<li><code class="docutils literal"><span class="pre">addons.json</span></code> : List of addons</li>
</ul>
<p>Statistic information are stored into RRD file available in the directory <code class="docutils literal"><span class="pre">/var/lib/rpimonitor/stat/</span></code></p>
</div>
</div>
<hr class="docutils" />
<div class="section" id="interactive-configuration-helper">
<h2>Interactive Configuration Helper<a class="headerlink" href="#interactive-configuration-helper" title="Permalink to this headline">¶</a></h2>
<p><strong>RPi-Monitor</strong> <cite>Interactive Configuration Helper</cite> is a tool embedded into
<code class="docutils literal"><span class="pre">rpimonitord</span></code> helping to create configuration files.</p>
<p>This example is detailling how to use it to monitor a ntfs volume.</p>
<p>First execute the following command:</p>
<p><code class="docutils literal"><span class="pre">rpimonitord</span> <span class="pre">-i</span></code></p>
<img alt="_images/helper001.png" src="_images/helper001.png" />
<p>Press <code class="docutils literal"><span class="pre">Enter</span></code></p>
<img alt="_images/helper002.png" src="_images/helper002.png" />
<p>Enter : <code class="docutils literal"><span class="pre">df</span> <span class="pre">-t</span> <span class="pre">ntfs</span></code></p>
<img alt="_images/helper003.png" src="_images/helper003.png" />
<p><strong>RPi-Monitor</strong> will tell you how it will process the source.
In our example, it will execute the command <code class="docutils literal"><span class="pre">df</span></code>.
If it is correct, press <code class="docutils literal"><span class="pre">Enter</span></code>, if not, enter <code class="docutils literal"><span class="pre">no</span></code> ( or <code class="docutils literal"><span class="pre">No</span></code> or <code class="docutils literal"><span class="pre">n</span></code> or <code class="docutils literal"><span class="pre">N</span></code> )
to go back to previous screen.</p>
<img alt="_images/helper004.png" src="_images/helper004.png" />
<p>RPi-Monitor show you the ouput of the command as defined as source. If the
output is the one expected press <code class="docutils literal"><span class="pre">Enter</span></code>, if not, <strong>RPi-Monitor</strong> will ask you
to define the source again.</p>
<img alt="_images/helper005.png" src="_images/helper005.png" />
<p>By default the regulare expression is <code class="docutils literal"><span class="pre">(.*)</span></code>. This will return all the
data given by the source.
In the following screen you will see how we will find the regular expression
extracting the available space of our ntfs drive step by step.</p>
<p>Step one, hit <code class="docutils literal"><span class="pre">Enter</span></code> to see what is given by the source by default.</p>
<img alt="_images/helper006.png" src="_images/helper006.png" />
<p>The output is not the one expected hit <code class="docutils literal"><span class="pre">Enter</span></code> to define a new Regular expression.
The data is located after <code class="docutils literal"><span class="pre">sda1</span></code>. Lets enter the following regular
expression: <code class="docutils literal"><span class="pre">sda1(.*)</span></code> to get what is after <code class="docutils literal"><span class="pre">sda1</span></code>.</p>
<img alt="_images/helper007.png" src="_images/helper007.png" />
<p>The output is not the one expected yet hit <code class="docutils literal"><span class="pre">Enter</span></code> to define a new regular expression.
The data is located after <code class="docutils literal"><span class="pre">sda1</span></code> after some spaces <code class="docutils literal"><span class="pre">\s+</span></code>, some numbers <code class="docutils literal"><span class="pre">\d+</span></code>,
some spaces <code class="docutils literal"><span class="pre">\s+</span></code>, some numbers <code class="docutils literal"><span class="pre">\d+</span></code>, some spaces`` s+`` and is composed of numbers <code class="docutils literal"><span class="pre">(\d+)</span></code>.
Enter then the following regulare expression: <code class="docutils literal"><span class="pre">sda1\s+\d+\s+\d+\s+(\d+)</span></code></p>
<img alt="_images/helper008.png" src="_images/helper008.png" />
<p>The result is now the one expected , enter <code class="docutils literal"><span class="pre">Yes</span></code> ( or <code class="docutils literal"><span class="pre">yes</span></code> or <code class="docutils literal"><span class="pre">Y</span></code> or <code class="docutils literal"><span class="pre">y</span></code> )</p>
<img alt="_images/helper009.png" src="_images/helper009.png" />
<p>We want the value in <code class="docutils literal"><span class="pre">MB</span></code> while is it given in <code class="docutils literal"><span class="pre">kB</span></code>. We then need to devide it by <code class="docutils literal"><span class="pre">1024</span></code>.
The formula is then: <code class="docutils literal"><span class="pre">$1/1024</span></code></p>
<img alt="_images/helper010.png" src="_images/helper010.png" />
<p>This is the expected value, enter <code class="docutils literal"><span class="pre">yes</span></code></p>
<img alt="_images/helper011.png" src="_images/helper011.png" />
<p>The value extracted is variable so <code class="docutils literal"><span class="pre">dynamic</span></code> so enter <code class="docutils literal"><span class="pre">No</span></code>.</p>
<img alt="_images/helper012.png" src="_images/helper012.png" />
<p><strong>RPi-Monitor</strong> gives you the template of configuration. You now have to copy it
into an existing configuration file or add a new file in
<code class="docutils literal"><span class="pre">/etc/rpimonitord.conf.d/</span></code> and update the text inside <code class="docutils literal"><span class="pre">&lt;&gt;</span></code>.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>dynamic.20.name=storage2_available
dynamic.20.source=df -t ntfs
dynamic.20.regexp=sda1\s+\d+\s+\d+\s+(\d+)
dynamic.20.postprocess=$1/1024
dynamic.20.rrd=GAUGE
</pre></div>
</div>
<p>Once the configuration will be apply, restart <strong>RPi-Monitor</strong> with the command:</p>
<p><code class="docutils literal"><span class="pre">/etc/init.d/rpimonitor</span> <span class="pre">restart</span></code></p>
<p>I hope this post is detailled enough to help you to configure <strong>RPi-Monitor</strong> to
define the correct sources and regular expression.</p>
</div>
<hr class="docutils" />
<div class="section" id="uninstallation">
<h2>Uninstallation<a class="headerlink" href="#uninstallation" title="Permalink to this headline">¶</a></h2>
<p>To uninstall <strong>RPi-Monitor</strong>, you can execute the following command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">remove</span> <span class="n">rpimonitor</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">purge</span> <span class="n">rpimontor</span>
</pre></div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="10_index.html" class="btn btn-neutral float-right" title="Configuration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="01_features.html" class="btn btn-neutral" title="Keys features of RPi-Monitor" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Xavier Berger.
      Last updated on Feb 17, 2018.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-6853682829194266"
     data-ad-slot="2876944524"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>



</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: ''
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>